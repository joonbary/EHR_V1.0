<!-- ê°„ë‹¨í•œ ìë™ìˆ¨ê¹€ ì‚¬ì´ë“œë°” -->

<!-- í† ê¸€ ë²„íŠ¼ (ì‚¬ì´ë“œë°” ë°–ì— ìœ„ì¹˜) -->
<button id="sidebarToggle" class="sidebar-toggle-btn" onclick="toggleSidebar()">
    <span id="toggleIcon">â˜°</span>
</button>

<!-- ì‚¬ì´ë“œë°” -->
<aside id="sidebar" class="sidebar-wrapper">
    <div class="sidebar-header">
        <div class="sidebar-logo">
            <span class="logo-icon">ğŸ’¼</span>
            <span class="logo-text">OKê¸ˆìœµ</span>
        </div>
        <div class="sidebar-subtitle">AI HRM System</div>
    </div>
    
    <nav class="sidebar-nav">
        {% include 'sidebar_menu_items.html' %}
    </nav>
</aside>

<style>
/* ì‚¬ì´ë“œë°” ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
.sidebar-wrapper {
    position: fixed;
    left: 0;
    top: 0;
    width: 260px;
    height: 100vh;
    background: linear-gradient(135deg, #1a1f2e 0%, #0a0f1b 100%);
    border-right: 1px solid rgba(0, 212, 255, 0.2);
    z-index: 1000;
    transition: transform 0.3s ease;
    overflow-y: auto;
}

/* ìë™ìˆ¨ê¹€ ìƒíƒœ - 20pxë§Œ ë³´ì´ê²Œ */
.sidebar-wrapper.auto-hide {
    transform: translateX(-240px);
}

/* ìë™ìˆ¨ê¹€ ìƒíƒœì—ì„œ í˜¸ë²„í•˜ë©´ ì „ì²´ ë³´ì´ê¸° */
.sidebar-wrapper.auto-hide:hover {
    transform: translateX(0);
}

/* í† ê¸€ ë²„íŠ¼ */
.sidebar-toggle-btn {
    position: fixed;
    left: 270px;
    top: 20px;
    width: 40px;
    height: 40px;
    background: #00d4ff;
    border: none;
    border-radius: 50%;
    color: #000;
    font-size: 20px;
    cursor: pointer;
    z-index: 1001;
    transition: all 0.3s ease;
    box-shadow: 0 2px 10px rgba(0, 212, 255, 0.5);
}

/* ìë™ìˆ¨ê¹€ ìƒíƒœì¼ ë•Œ ë²„íŠ¼ ìœ„ì¹˜ */
.sidebar-toggle-btn.shifted {
    left: 30px;
}

.sidebar-toggle-btn:hover {
    transform: scale(1.1);
    background: #0099cc;
}

/* ì‚¬ì´ë“œë°” í—¤ë” */
.sidebar-header {
    padding: 20px;
    text-align: center;
    border-bottom: 1px solid rgba(0, 212, 255, 0.1);
}

.sidebar-logo {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 24px;
    font-weight: bold;
    color: #00d4ff;
}

.sidebar-subtitle {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
    margin-top: 5px;
}

/* ì»¨í…ì¸  ì˜ì—­ ì¡°ì • */
.content-wrapper {
    margin-left: 260px;
    transition: margin-left 0.3s ease;
}

.content-wrapper.expanded {
    margin-left: 20px;
}
</style>

<script>
// ê°„ë‹¨í•œ ìë™ìˆ¨ê¹€ í† ê¸€
function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    const content = document.querySelector('.content-wrapper');
    const toggleBtn = document.getElementById('sidebarToggle');
    
    // ìë™ìˆ¨ê¹€ ëª¨ë“œ í† ê¸€
    if (sidebar.classList.contains('auto-hide')) {
        // ìë™ìˆ¨ê¹€ í•´ì œ (í•­ìƒ ë³´ì´ê¸°)
        sidebar.classList.remove('auto-hide');
        if (content) content.classList.remove('expanded');
        toggleBtn.classList.remove('shifted');
        toggleBtn.innerHTML = '<span>â—€</span>';
        
        console.log('ì‚¬ì´ë“œë°” í•­ìƒ ë³´ì´ê¸° ëª¨ë“œ');
    } else {
        // ìë™ìˆ¨ê¹€ í™œì„±í™”
        sidebar.classList.add('auto-hide');
        if (content) content.classList.add('expanded');
        toggleBtn.classList.add('shifted');
        toggleBtn.innerHTML = '<span>â˜°</span>';
        
        console.log('ìë™ìˆ¨ê¹€ ëª¨ë“œ í™œì„±í™”');
    }
    
    // ìƒíƒœ ì €ì¥
    localStorage.setItem('sidebar-auto-hide', sidebar.classList.contains('auto-hide'));
}

// í˜ì´ì§€ ë¡œë“œì‹œ ìƒíƒœ ë³µì›
document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.getElementById('sidebar');
    const content = document.querySelector('.content-wrapper');
    const toggleBtn = document.getElementById('sidebarToggle');
    
    // ì €ì¥ëœ ìƒíƒœ í™•ì¸ (ê¸°ë³¸ê°’: ìë™ìˆ¨ê¹€)
    const autoHide = localStorage.getItem('sidebar-auto-hide') !== 'false';
    
    if (autoHide) {
        sidebar.classList.add('auto-hide');
        if (content) content.classList.add('expanded');
        toggleBtn.classList.add('shifted');
        toggleBtn.innerHTML = '<span>â˜°</span>';
    } else {
        toggleBtn.innerHTML = '<span>â—€</span>';
    }
    
    console.log('ì‚¬ì´ë“œë°” ì´ˆê¸°í™” ì™„ë£Œ:', autoHide ? 'ìë™ìˆ¨ê¹€' : 'í•­ìƒë³´ì„');
});
</script>