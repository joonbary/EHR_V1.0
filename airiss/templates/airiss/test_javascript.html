<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript í…ŒìŠ¤íŠ¸ í˜ì´ì§€</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover {
            background: #0056b3;
        }
        select {
            padding: 8px;
            margin: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        #status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            background: #e9ecef;
        }
        .success {
            background: #d4edda !important;
            color: #155724;
        }
        .error {
            background: #f8d7da !important;
            color: #721c24;
        }
    </style>
    
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì¦‰ì‹œ ì‹¤í–‰
        console.log('ğŸ¯ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ JavaScript ë¡œë“œë¨');
        
        // ì „ì—­ ë³€ìˆ˜
        window.testResults = [];
        
        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… DOM ë¡œë“œ ì™„ë£Œ');
            updateStatus('DOM ë¡œë“œ ì™„ë£Œ - JavaScript ì •ìƒ ì‘ë™');
        });
    </script>
</head>
<body>
    <div class="test-card">
        <h1>ğŸ§ª JavaScript ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h1>
        <p>ì´ í˜ì´ì§€ëŠ” JavaScriptê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>
        
        <div id="status">í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì¤‘...</div>
        
        <hr>
        
        <h3>1. ê¸°ë³¸ ë²„íŠ¼ í…ŒìŠ¤íŠ¸</h3>
        <button class="btn" onclick="testAlert()">ì•Œë¦¼ í…ŒìŠ¤íŠ¸</button>
        <button class="btn" onclick="testConsole()">ì½˜ì†” í…ŒìŠ¤íŠ¸</button>
        <button class="btn" onclick="testDOM()">DOM ì¡°ì‘ í…ŒìŠ¤íŠ¸</button>
        
        <h3>2. AI ëª¨ë¸ ì„ íƒ ì‹œë®¬ë ˆì´ì…˜</h3>
        <select id="modelSelect" onchange="testModelChange(this.value)">
            <option value="">ëª¨ë¸ ì„ íƒ...</option>
            <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
            <option value="gpt-4">GPT-4</option>
            <option value="gpt-4o">GPT-4o</option>
            <option value="gpt-4-turbo">GPT-4 Turbo</option>
        </select>
        
        <div id="modelInfo" style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">
            ëª¨ë¸ì„ ì„ íƒí•´ì£¼ì„¸ìš”.
        </div>
        
        <h3>3. AJAX í…ŒìŠ¤íŠ¸</h3>
        <button class="btn" onclick="testAjax()">AJAX í˜¸ì¶œ í…ŒìŠ¤íŠ¸</button>
        <div id="ajaxResult" style="margin: 10px 0;"></div>
        
        <h3>4. í…ŒìŠ¤íŠ¸ ê²°ê³¼</h3>
        <ul id="testResults"></ul>
        
        <hr>
        <button class="btn" onclick="location.href='/airiss/'">AIRISS ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</button>
    </div>

    <script>
        // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤
        function updateStatus(message, isError = false) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = isError ? 'error' : 'success';
        }
        
        function addTestResult(test, result) {
            const ul = document.getElementById('testResults');
            const li = document.createElement('li');
            li.innerHTML = `<strong>${test}:</strong> ${result}`;
            ul.appendChild(li);
            console.log(`í…ŒìŠ¤íŠ¸ ê²°ê³¼ - ${test}: ${result}`);
        }
        
        function testAlert() {
            alert('âœ… JavaScript Alert ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤!');
            addTestResult('Alert í…ŒìŠ¤íŠ¸', 'ì„±ê³µ');
        }
        
        function testConsole() {
            console.log('ğŸ“ ì½˜ì†” ë¡œê·¸ í…ŒìŠ¤íŠ¸');
            console.warn('âš ï¸ ì½˜ì†” ê²½ê³  í…ŒìŠ¤íŠ¸');
            console.error('âŒ ì½˜ì†” ì—ëŸ¬ í…ŒìŠ¤íŠ¸');
            addTestResult('Console í…ŒìŠ¤íŠ¸', 'ì½˜ì†”ì°½ í™•ì¸ (F12)');
        }
        
        function testDOM() {
            const now = new Date().toLocaleTimeString();
            updateStatus(`DOM ì¡°ì‘ ì„±ê³µ - í˜„ì¬ ì‹œê°„: ${now}`);
            addTestResult('DOM ì¡°ì‘ í…ŒìŠ¤íŠ¸', 'ì„±ê³µ');
        }
        
        function testModelChange(value) {
            if (!value) return;
            
            const info = document.getElementById('modelInfo');
            const models = {
                'gpt-3.5-turbo': 'ë¹ ë¥´ê³  ê²½ì œì ì¸ ëª¨ë¸',
                'gpt-4': 'ë” ì •í™•í•˜ê³  ì°½ì˜ì ì¸ ì‘ë‹µ',
                'gpt-4o': 'ìµœì‹  ë©€í‹°ëª¨ë‹¬ ëª¨ë¸',
                'gpt-4-turbo': 'GPT-4ì˜ ë¹ ë¥¸ ë²„ì „'
            };
            
            info.innerHTML = `
                <strong>ì„ íƒëœ ëª¨ë¸: ${value}</strong><br>
                <small>${models[value]}</small>
            `;
            
            addTestResult('ëª¨ë¸ ì„ íƒ í…ŒìŠ¤íŠ¸', `${value} ì„ íƒë¨`);
            console.log('ëª¨ë¸ ë³€ê²½:', value);
        }
        
        function testAjax() {
            const resultDiv = document.getElementById('ajaxResult');
            resultDiv.innerHTML = 'ğŸ”„ AJAX ìš”ì²­ ì¤‘...';
            
            fetch('/airiss/api/models/')
                .then(response => response.json())
                .then(data => {
                    resultDiv.innerHTML = `
                        <strong>âœ… AJAX ì„±ê³µ!</strong><br>
                        <small>í˜„ì¬ ëª¨ë¸: ${data.current_model}</small><br>
                        <small>API ì‚¬ìš© ê°€ëŠ¥: ${data.api_available ? 'ì˜ˆ' : 'ì•„ë‹ˆì˜¤'}</small>
                    `;
                    addTestResult('AJAX í…ŒìŠ¤íŠ¸', 'ì„±ê³µ');
                })
                .catch(error => {
                    resultDiv.innerHTML = `âŒ AJAX ì‹¤íŒ¨: ${error.message}`;
                    addTestResult('AJAX í…ŒìŠ¤íŠ¸', `ì‹¤íŒ¨: ${error.message}`);
                });
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ í…ŒìŠ¤íŠ¸
        window.onload = function() {
            updateStatus('âœ… ëª¨ë“  JavaScript ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤!');
            addTestResult('í˜ì´ì§€ ë¡œë“œ', 'ì„±ê³µ');
            console.log('ğŸ‰ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì´ˆê¸°í™” ì™„ë£Œ');
        };
    </script>
</body>
</html>